<head>
    <link rel="stylesheet" href="https://allyoucan.cloud/cdn/icofont/1.0.1/icofont.css"
        integrity="sha384-jbCTJB16Q17718YM9U22iJkhuGbS0Gd2LjaWb4YJEZToOPmnKDjySVa323U+W7Fv" crossorigin="anonymous">
    {{!-- <style>
body{
    margin-top:20px;
    background:#eee;
}
/* My Account */
.payments-item img.mr-3 {
    width: 47px;
}
.order-list .btn {
    border-radius: 2px;
    min-width: 121px;
    font-size: 13px;
    padding: 7px 0 7px 0;
}
.osahan-account-page-left .nav-link {
    padding: 18px 20px;
    border: none;
    font-weight: 600;
    color: #535665;
}
.osahan-account-page-left .nav-link i {
    width: 28px;
    height: 28px;
    background: #535665;
    display: inline-block;
    text-align: center;
    line-height: 29px;
    font-size: 15px;
    border-radius: 50px;
    margin: 0 7px 0 0px;
    color: #fff;
}
.osahan-account-page-left .nav-link.active {
    background: #f3f7f8;
    color: #282c3f !important;
}
.osahan-account-page-left .nav-link.active i {
    background: #282c3f !important;
}
.osahan-user-media img {
    width: 90px;
}
.card offer-card h5.card-title {
    border: 2px dotted #000;
}
.card.offer-card h5 {
    border: 1px dotted #daceb7;
    display: inline-table;
    color: #17a2b8;
    margin: 0 0 19px 0;
    font-size: 15px;
    padding: 6px 10px 6px 6px;
    border-radius: 2px;
    background: #fffae6;
    position: relative;
}
.card.offer-card h5 img {
    height: 22px;
    object-fit: cover;
    width: 22px;
    margin: 0 8px 0 0;
    border-radius: 2px;
}
.card.offer-card h5:after {
    border-left: 4px solid transparent;
    border-right: 4px solid transparent;
    border-bottom: 4px solid #daceb7;
    content: "";
    left: 30px;
    position: absolute;
    bottom: 0;
}
.card.offer-card h5:before {
    border-left: 4px solid transparent;
    border-right: 4px solid transparent;
    border-top: 4px solid #daceb7;
    content: "";
    left: 30px;
    position: absolute;
    top: 0;
}
.payments-item .media {
    align-items: center;
}
.payments-item .media img {
    margin: 0 40px 0 11px !important;
}
.reviews-members .media .mr-3 {
    width: 56px;
    height: 56px;
    object-fit: cover;
}
.order-list img.mr-4 {
    width: 70px;
    height: 70px;
    object-fit: cover;
    box-shadow: 0 .125rem .25rem rgba(0, 0, 0, .075)!important;
    border-radius: 2px;
}
.osahan-cart-item p.text-gray.float-right {
    margin: 3px 0 0 0;
    font-size: 12px;
}
.osahan-cart-item .food-item {
    vertical-align: bottom;
}

.h1, .h2, .h3, .h4, .h5, .h6, h1, h2, h3, h4, h5, h6 {
    color: #000000;
}

.shadow-sm {
    box-shadow: 0 .125rem .25rem rgba(0,0,0,.075)!important;
}

.rounded-pill {
    border-radius: 50rem!important;
}
a:hover{
    text-decoration:none;
}
</style> --}}
</head>

<div class="container">
    <div class="row">
        <div class="col-md-3">
            <div class="osahan-account-page-left shadow-sm bg-white h-100">
                {{!-- <div class="border-bottom p-4">
                    <div class="osahan-user text-center">
                        <div class="osahan-user-media">
                            <img class="mb-3 rounded-pill shadow-sm mt-1" src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="gurdeep singh osahan">
                            <div class="osahan-user-media-body">
                                <h6 class="mb-2">Gurdeep Singh</h6>
                                <p class="mb-1">+91 85680-79956</p>
                                <p>iamosahan@gmail.com</p>
                                <p class="mb-0 text-black font-weight-bold"><a class="text-primary mr-3" data-toggle="modal" data-target="#edit-profile-modal" href="#"><i class="icofont-ui-edit"></i> EDIT</a></p>
                            </div>
                        </div>
                    </div>
                </div> --}}
                {{!-- <ul class="nav nav-tabs flex-column border-0 pt-4 pl-4 pb-4" id="myTab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link" id="addresses-tab" data-toggle="tab" href="#addresses" role="tab" aria-controls="addresses" aria-selected="false"><i class="icofont-location-pin"></i> Addresses</a>
                    </li>
                </ul> --}}
                <div class="mt-5 d-flex justify-content-center ">
                    <a class="flex-c-m stext-101 cl0 size-101 bg3 bor14 hov-btn3 p-lr-15 trans-04 pointer text-light"
                        data-bs-toggle="modal" data-bs-target="#exampleModalForAddress" onclick="getAllCountries()">Add
                        New Address</a>

                </div>
            </div>
        </div>
        <div class="col-md-9">
            <div class="osahan-account-page-right shadow-sm bg-white p-4 h-100">
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade  active show" id="addresses" role="tabpanel"
                        aria-labelledby="addresses-tab">
                        <h4 class="font-weight-bold mt-0 mb-4">Manage Addresses</h4>
                        <div class="row">
                            {{#each addresses}}
                                <div class="col-md-6" id="id{{this.address_id}}">
                                    <div class="bg-white card addresses-item mb-4 border border-primary shadow">
                                        <div class="gold-members p-4">
                                            <div class="media">
                                                <div class="mr-3"><i class="icofont-ui-home icofont-3x"></i></div>
                                                <div class="media-body">
                                                    <h6 class="mb-1 text-secondary">{{this.firstName}} {{this.lastName}}
                                                    </h6>
                                                    <p class="text-black">
                                                        {{this.address}},{{this.state}},{{this.country}},{{this.zip}},
                                                    </p>
                                                    <p class="mb-0 text-black font-weight-bold"><a
                                                            onclick="getAllCountries('{{this.address_id}}')"
                                                            class="text-primary mr-3" data-toggle="modal"
                                                            data-target="#exampleModalForAddress{{this.address_id}}"
                                                            href="#"><i class="icofont-ui-edit"></i> EDIT</a> <a
                                                            class="text-danger"
                                                            onclick="deleteAddress('{{this.address_id}}')" href="#"><i
                                                                class="icofont-ui-delete"></i> DELETE</a></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                {{!-- update --}}

                                <div class="modal fade" id="exampleModalForAddress{{this.address_id}}" tabindex="-1"
                                    aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-dialog-centered">
                                        <form action="/v1/add-user-address/{{this.address_id}}" method="post"
                                            id="updateAddress{{this.address_id}}" name="kygkgv">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLabel">Address</h5>
                                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                        aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row g-3">
                                                        <div class="col-sm-6">
                                                            <label for="firstName" class="form-label">First name</label>
                                                            <input type="text" class="form-control" id="firstName"
                                                                placeholder="" value="{{this.firstName}}" required
                                                                name="firstName">
                                                            <div class="invalid-feedback">
                                                                Valid first name is required.
                                                            </div>
                                                        </div>

                                                        <div class="col-sm-6">
                                                            <label for="lastName" class="form-label">Last name</label>
                                                            <input type="text" class="form-control" id="lastName"
                                                                placeholder="" value="{{this.lastName}}" required
                                                                name="lastName">
                                                            <div class="invalid-feedback">
                                                                Valid last name is required.
                                                            </div>
                                                        </div>
                                                        <div class="col-12">
                                                            <label for="phoneNumber" class="form-label">Phone Number
                                                                <span class="text-muted"></span></label>
                                                            <input type="tel" class="form-control"
                                                                id="addressPhoneNumber" placeholder="Phone Number"
                                                                value="{{this.phoneNumber}}" name="phoneNumber"
                                                                required>
                                                        </div>



                                                        <div class="col-12">
                                                            <label for="email" class="form-label">Email <span
                                                                    class="text-muted">(Optional)</span></label>
                                                            <input type="email" class="form-control" id="email"
                                                                placeholder="you@example.com" name="email"
                                                                value="{{this.email}}">
                                                            <div class="invalid-feedback">
                                                                Please enter a valid email address for shipping updates.
                                                            </div>
                                                        </div>

                                                        <div class="col-12">
                                                            <label for="address" class="form-label">Address</label>
                                                            <input type="text" class="form-control" id="address"
                                                                placeholder="1234 Main St" required name="address"
                                                                value="{{this.address}}">
                                                            <div class="invalid-feedback">
                                                                Please enter your shipping address.
                                                            </div>
                                                        </div>



                                                        <div class="col-md-5">
                                                            <label for="country" class="form-label">Country</label>
                                                            <select class="form-select" required name="country"
                                                                id="countryList{{this.address_id}}"
                                                                onchange="changeCountryList('{{this.address_id}}')">

                                                            </select>
                                                            <div class="invalid-feedback">
                                                                Please select a valid country.
                                                            </div>
                                                        </div>

                                                        <div class="col-md-4">
                                                            <label for="state" class="form-label">State</label>
                                                            <select class="form-select"
                                                                id="stateList{{this.address_id}}" name="state" required>

                                                            </select>
                                                            <div class="invalid-feedback">
                                                                Please provide a valid state.
                                                            </div>
                                                        </div>

                                                        <div class="col-md-3">
                                                            <label for="zip" class="form-label">Zip</label>
                                                            <input type="text" class="form-control" id="zip"
                                                                placeholder="" name="zip" value="{{this.zip}}" required>
                                                            <div class="invalid-feedback">
                                                                Zip code required.
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <a type="button"
                                                        class="flex-c-m stext-101 cl0 size-101 bg3 bor14 hov-btn3 p-lr-15 trans-04 pointer text-light"
                                                        data-bs-dismiss="modal">Close</a>
                                                    <input type="submit"
                                                        class="flex-c-m stext-101 cl0 size-101 bg3 bor14 hov-btn3 p-lr-15 trans-04 pointer text-light"
                                                        value="Add Address">
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            {{/each}}

                        </div>


                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="exampleModalForAddress" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <form action="/v1/add-user-address" method="post">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Address</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row g-3">
                        <div class="col-sm-6">
                            <label for="firstName" class="form-label">First name</label>
                            <input type="text" class="form-control" id="firstName" placeholder="" value="" required
                                name="firstName">
                            <div class="invalid-feedback">
                                Valid first name is required.
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <label for="lastName" class="form-label">Last name</label>
                            <input type="text" class="form-control" id="lastName" placeholder="" value="" required
                                name="lastName">
                            <div class="invalid-feedback">
                                Valid last name is required.
                            </div>
                        </div>
                        <div class="col-12">
                            <label for="phoneNumber" class="form-label">Phone Number <span
                                    class="text-muted"></span></label>
                            <input type="tel" class="form-control" id="addressPhoneNumber" placeholder="Phone Number"
                                name="phoneNumber" required>
                        </div>



                        <div class="col-12">
                            <label for="email" class="form-label">Email <span
                                    class="text-muted">(Optional)</span></label>
                            <input type="email" class="form-control" id="email" placeholder="you@example.com"
                                name="email">
                            <div class="invalid-feedback">
                                Please enter a valid email address for shipping updates.
                            </div>
                        </div>

                        <div class="col-12">
                            <label for="address" class="form-label">Address</label>
                            <input type="text" class="form-control" id="address" placeholder="1234 Main St" required
                                name="address">
                            <div class="invalid-feedback">
                                Please enter your shipping address.
                            </div>
                        </div>



                        <div class="col-md-5">
                            <label for="country" class="form-label">Country</label>
                            <select class="form-select" required name="country" id="countryList"
                                onchange="changeCountryList()">
                                {{!-- <option>United States</option> --}}
                            </select>
                            <div class="invalid-feedback">
                                Please select a valid country.
                            </div>
                        </div>

                        <div class="col-md-4">
                            <label for="state" class="form-label">State</label>
                            <select class="form-select" id="stateList" name="state" required>
                                {{!-- <option value="">Choose...</option> --}}
                                {{!-- <option>California</option> --}}
                            </select>
                            <div class="invalid-feedback">
                                Please provide a valid state.
                            </div>
                        </div>

                        <div class="col-md-3">
                            <label for="zip" class="form-label">Zip</label>
                            <input type="text" class="form-control" id="zip" placeholder="" name="zip" required>
                            <div class="invalid-feedback">
                                Zip code required.
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <a type="button"
                        class="flex-c-m stext-101 cl0 size-101 bg3 bor14 hov-btn3 p-lr-15 trans-04 pointer text-light"
                        data-bs-dismiss="modal">Close</a>
                    <input type="submit"
                        class="flex-c-m stext-101 cl0 size-101 bg3 bor14 hov-btn3 p-lr-15 trans-04 pointer text-light"
                        value="Add Address">
                </div>
            </div>
        </form>
    </div>
</div>

<script>
    function deleteAddress(addressId) {
        Swal.fire({
            title: 'Are you sure?',
            text: "You won't be able to revert this!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, delete it!'
        }).then((result) => {
            if (result.isConfirmed) {
                fetch('/v1/add-user-address/'+addressId,{
                    method:'PATCH',

                }).then(response=>response.json()).then(response=>{

                    if(response){
                        var addressFiledId=document.getElementById("id"+response.addressId)
                        addressFiledId.remove()

                    }
                })


                Swal.fire(
                    'Deleted!',
                    'Your file has been deleted.',
                    'success'
                )
            }
        })
    }
</script>